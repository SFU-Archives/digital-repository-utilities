The **Digital Archivist's Resource Tool (DART)** is a desktop application developed and maintained by the Academic Preservation Trust ([AP Trust](https://aptrust.org/)) to support transfers of digital materials to repositories using the [BagIt File Packaging Format (RFC 8493)](https://datatracker.ietf.org/doc/html/rfc8493). Source code, documentation and download links are all available on AP Trust's [GitHub site](https://github.com/APTrust/dart).

In Fall 2023, SFU Archives retired its custom-built BagIt packaging app, [[SFU MoveIt]], and began investigating DART as a possible replacement. DART provides an interface for users to select files for packaging, enter their contact information and some descriptive data about the material, then create a BagIt-compliant package ("bag") ready for transfer to Archives. The app supports the creation of multiple BagIt Profiles that can accommodate different transfer scenarios and user groups (e.g. require different metadata fields). The app can be configured to support transfers over a network to any sftp server or S3-compliant API. Finally, DART can also be used to validate bags received.

In SFU Archives' proposed use, SFU staff and private donors would install DART on their local machines, import SFU-specific transfer profiles, create transfer packages to their desktop, then transfer them to the Archives via [[SFU Vault]] or external drives physically delivered to the Archives. No data would be transferred over the network through DART (though longer term this is something the Archives could investigate with IT Services). The Archives in turn would use DART to validate transfers.

In order to be feasible, DART would need to be included in SFU's Managed Software Center, as most university staff work on managed machines and can only download and install programs through the Managed Software app. To this end, a Privacy Impact Assessment (PIA) and security review will be undertaken in early 2024 as first steps. The following notes are intended for use in testing.

## BagIt Profiles
A [BagIt Profile](https://bagit-profiles.github.io/bagit-profiles-specification/) sets out a particular implementation of the BagIt spec, indicating which of the many optional BagIt elements are included and how. Bags can be created and validated against particular profiles. DART allows you to create multiple profiles for different contexts / uses. SFU Archives has created three profiles.
- SFU University Records Transfer
- Private Organization Transfer
- Personal Archives Transfer

Each uses a slightly different set of metadata fields, as set out below.
- `MA` = mandatory
- `OP` = optional
- `AUTO` = automatically generated by DART
- `DE` = default value supplied by the profile

| Tag / Field | University records | Private org | Personal archives | Note |
|---|---|---|---|---|
| Bag-Count | OP | OP | OP |  |
| Bag-Group-Identifier | OP | OP | OP | SFU = Transfer Number; private = Accession Number |
| Bag-Size | AUTO | AUTO | AUTO | Auto |
| Bagging-Date | AUTO | AUTO | AUTO | Auto |
| Bagging-Software | AUTO | AUTO | AUTO | Auto |
| Collection-Notice |  | DE | DE | Default value; slightly different wording for orgs / personal |
| Contact-Email | MA | MA | MA | Required |
| Contact-Name | MA | MA | MA | Required |
| Contact-Phone | OP | OP | OP | Optional |
| Contact-Position-Title | MA | MA |  | N/A for personal archives |
| External-Description | MA | MA | MA | Required |
| External-Identifier | OP | OP | OP | Optional |
| Organization-Address | MA | OP |  | SFU: campus; private org: address |
| Payload-Oxum | AUTO | AUTO | AUTO | Auto |
| RRSDA | OP |  |  | Optional for SFU |
| Source-Organization | MA | MA |  | Required for SFU and private orgs |

The data submitted by the user in these fields is written to the bag's `bag-info.txt` file.

## Collection notice
The app collects the contact information of the producer. In the case of SFU staff, this is business information rather than personal information and no **collection notice** is required. With private donors, however, their contact information may include personal addresses and telephone numbers; here a collection notice is needed.

There is no straightforward way to add a collection notice to a DART BagIt Profile. The Archives' workaround is to:
- Include a custom metadata field (`Collection-Notice`) on the two private-records profiles.
- Include the text of the collection notice as the default value of the `Collection-Notice` field.
- Include the same text as the tooltip help text.

The main downside of this approach is that fields with default values are by default hidden from the user in the interface. The user must select the `Show all tags` button to reveal default text. This will need to be addressed in user documentation / training.

## Serialization
All of the SFU profiles "serialize" the bag so that the output is a single `tar` file.
- **In DART, serialization is required to preserve the timestamps of the original files packaged in the bag.**
- If the bag is created in unserialized form, timestamps will be overwritten with the data / time of bag creation.

## Export settings
The BagIt profiles must be saved (as `json` files) to a public url. This ensures that:
- SFU users can access them to import to their local version.
- DART can access them to validate any bags received that used them.

DART provides two ways to export a profile: via `Settings > BagIt Profiles > Export Profile` or `Settings > Export Settings`. The `Export Profile` method creates a profile that complies with the [BagIt Profile Specificiation](x) but loses some of the richer additional information that DART supports (e.g. help text or drop-down list values). Use `Export Settings` to ensure all this information is captured in the `json` profile document that users will import.

Profile names should include version numbers. The Archives' profiles are currently stored on the Archives' GitHub site at the following urls:

[SFU University Records Transfer](https://github.com/SFU-Archives/digital-repository-utilities/blob/master/bagit-profiles/university-records-transfer-v0-1.json)

```
https://raw.githubusercontent.com/SFU-Archives/digital-repository-utilities/master/bagit-profiles/university-records-transfer-v0-1.json
```

[Private Organization Transfer](https://github.com/SFU-Archives/digital-repository-utilities/blob/master/bagit-profiles/private-organization-transfer-v0-1.json)

```
https://raw.githubusercontent.com/SFU-Archives/digital-repository-utilities/master/bagit-profiles/private-organization-transfer-v0-1.json
```

[Personal Archives Transfer](https://github.com/SFU-Archives/digital-repository-utilities/blob/master/bagit-profiles/personal-archives-transfer-v0-1.json)

```
https://raw.githubusercontent.com/SFU-Archives/digital-repository-utilities/master/bagit-profiles/personal-archives-transfer-v0-1.json
```

`Last updated: Dec 8, 2023`
